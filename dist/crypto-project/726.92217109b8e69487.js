"use strict";(self.webpackChunkmaterial_pro_angular_lite=self.webpackChunkmaterial_pro_angular_lite||[]).push([[726],{6726:(Ct,f,r)=>{r.r(f),r.d(f,{PublishStrategyModule:()=>yt});var m=r(4755),g=r(2480),T=r(5861),u=r(3276),x=r(1634),t=r(2223),h=r(6081),p=r(3144),d=r(4004);let _=(()=>{class e{constructor(i){this.http=i}publish(i){const n=new p.WM({Authorization:`Bearer ${i.token}`}),s=(new p.LE).set("page",i.page).set("limit",i.limit).set("access",i.access);return this.http.get("https://api.cryptozack.com/algo-strategy/list-publish-strategy-request",{headers:n,params:s}).pipe((0,d.U)(c=>c))}publishAccess(i){const s=new p.WM({Authorization:`Bearer ${i.token}`}),l={id:i.userId,access:i.access};return console.log(l),this.http.post("https://api.cryptozack.com/algo-strategy/publish-strategy-access",l,{headers:s}).pipe((0,d.U)(c=>c.data))}publishaccessList(i){const s=new p.WM({Authorization:`Bearer ${i.token}`}),l=(new p.LE).set("page",i.page).set("limit",i.limit).set("access",i.access);return this.http.get("https://api.cryptozack.com/algo-strategy/list-publish-strategy-request",{headers:s,params:l}).pipe((0,d.U)(c=>c))}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(p.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var o=r(3627);function b(e,a){1&e&&(t.TgZ(0,"div",18),t._UZ(1,"ngx-ui-loader",19),t.qZA()),2&e&&(t.xp6(1),t.Q6J("hasProgressBar",!1))}function Z(e,a){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Name"),t.qZA())}function P(e,a){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",i.user.firstName," ")}}function D(e,a){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Email"),t.qZA())}function w(e,a){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",i.user.email," ")}}function N(e,a){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Time"),t.qZA())}function A(e,a){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,i.createdAt,"MMMM dd, y , hh:mm:ss a")," ")}}function v(e,a){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Status"),t.qZA())}const L=function(){return{color:"green"}};function U(e,a){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.Q6J("ngStyle",t.DdM(2,L)),t.xp6(1),t.hij(" ","ACCEPTED"===i.access?"ACCESS":"NOT ACCESS"," ")}}function Y(e,a){1&e&&t._UZ(0,"tr",23)}function M(e,a){1&e&&t._UZ(0,"tr",24)}function Q(e,a){1&e&&(t.TgZ(0,"tr",25)(1,"td",26),t._uU(2,"No data Found "),t.qZA()())}const k=function(){return[15,25,50,75,100]};let q=(()=>{class e{constructor(i,n,s){this.activatedRoute=i,this.ngxService=n,this.publishService=s,this.displayColumns=["name","email","time","status"],this.dataSource=[],this.showLoader=!1;let l=localStorage.getItem("userinfo");l&&(this.parseData=JSON.parse(l))}ngOnInit(){this.initializeFilter(),this.show_List()}initializeFilter(){this.filter={token:this.parseData.token,page:1,limit:15,access:"ACCEPTED"}}show_List(){this.publishService.publishaccessList(this.filter).subscribe(i=>{this.showLoader=!0,this.ngxService.start(),this.dataSource=i.data.results,this.totalLength=i.data.count,console.log(i),this.showLoader=!1},i=>{this.showLoader=!1})}pageChange(i){this.filter.page=i.pageIndex+1,this.filter.limit=i.pageSize,this.show_List()}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(g.gz),t.Y36(h.LA),t.Y36(_))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-publish-strategy-list"]],viewQuery:function(i,n){if(1&i&&t.Gf(u.NW,7),2&i){let s;t.iGM(s=t.CRH())&&(n.paginator=s.first)}},decls:24,vars:8,consts:[["class","ngxLoader",4,"ngIf"],[1,"main_container"],[1,"flex","pad-8","header"],[1,"heading"],[1,"spacer"],[1,"table_container",2,"margin-top","10px"],["mat-table","",1,"dataTable",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","time"],["matColumnDef","status"],["mat-cell","",3,"ngStyle",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","cursor-pointer",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["pageSize","15",1,"pagination",3,"length","pageSizeOptions","page"],[1,"ngxLoader"],[3,"hasProgressBar"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngStyle"],["mat-header-row",""],["mat-row","",1,"cursor-pointer"],[1,"mat-row"],["colspan","2",1,"pad-16",2,"text-align","center"]],template:function(i,n){1&i&&(t.YNc(0,b,2,1,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"p",3),t._uU(4,"Published Strategy List"),t.qZA(),t._UZ(5,"div",4),t.qZA(),t.TgZ(6,"div",5)(7,"table",6),t.ynx(8,7),t.YNc(9,Z,2,0,"th",8),t.YNc(10,P,2,1,"td",9),t.BQk(),t.ynx(11,10),t.YNc(12,D,2,0,"th",8),t.YNc(13,w,2,1,"td",9),t.BQk(),t.ynx(14,11),t.YNc(15,N,2,0,"th",8),t.YNc(16,A,3,4,"td",9),t.BQk(),t.ynx(17,12),t.YNc(18,v,2,0,"th",8),t.YNc(19,U,2,3,"td",13),t.BQk(),t.YNc(20,Y,1,0,"tr",14),t.YNc(21,M,1,0,"tr",15),t.YNc(22,Q,3,0,"tr",16),t.qZA(),t.TgZ(23,"mat-paginator",17),t.NdJ("page",function(l){return n.pageChange(l)}),t.qZA()()()),2&i&&(t.Q6J("ngIf",n.showLoader),t.xp6(7),t.Q6J("dataSource",n.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",n.displayColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayColumns),t.xp6(2),t.Q6J("length",n.totalLength)("pageSizeOptions",t.DdM(7,k)))},dependencies:[m.O5,m.PC,o.BZ,o.fO,o.as,o.w1,o.Dz,o.nj,o.ge,o.ev,o.XQ,o.Gk,o.Ee,u.NW,h.Eo,m.uU],styles:[".main_container[_ngcontent-%COMP%]{padding:0 10px;margin-bottom:10px}"]}),e})();var y=r(5580);function B(e,a){1&e&&(t.TgZ(0,"th",11),t._uU(1," Buy Threshold "),t.qZA())}function J(e,a){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",i.buyThreshold," ")}}function z(e,a){1&e&&(t.TgZ(0,"th",11),t._uU(1," Initial Investment "),t.qZA())}function I(e,a){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",i.initialInvestment," ")}}function R(e,a){1&e&&(t.TgZ(0,"th",11),t._uU(1," Lot Multiplier "),t.qZA())}function j(e,a){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",i.lotMultiplier," ")}}function E(e,a){1&e&&(t.TgZ(0,"th",11),t._uU(1," Max Positions "),t.qZA())}function O(e,a){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",i.maxPositions," ")}}function $(e,a){1&e&&(t.TgZ(0,"th",11),t._uU(1," Profit Threshold "),t.qZA())}function H(e,a){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",i.profitThreshold," ")}}function F(e,a){1&e&&t._UZ(0,"tr",13)}function G(e,a){1&e&&t._UZ(0,"tr",14)}let W=(()=>{class e{constructor(i){this.values=i,this.displayedColumns=["buyThreshold","initialInvestment","lotMultiplier","maxPositions","profitThreshold"],this.dataSource=[this.values]}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(y.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-strategy-details"]],decls:19,vars:3,consts:[[1,"main","flex-column-centered"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","buyThreshold"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","initialInvestment"],["matColumnDef","lotMultiplier"],["matColumnDef","maxPositions"],["matColumnDef","profitThreshold"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,B,2,0,"th",3),t.YNc(4,J,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,z,2,0,"th",3),t.YNc(7,I,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,R,2,0,"th",3),t.YNc(10,j,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,E,2,0,"th",3),t.YNc(13,O,2,1,"td",4),t.BQk(),t.ynx(14,8),t.YNc(15,$,2,0,"th",3),t.YNc(16,H,2,1,"td",4),t.BQk(),t.YNc(17,F,1,0,"tr",9),t.YNc(18,G,1,0,"tr",10),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[o.BZ,o.fO,o.as,o.w1,o.Dz,o.nj,o.ge,o.ev,o.XQ,o.Gk]}),e})();var C=r(430),S=r(3649);function X(e,a){1&e&&(t.TgZ(0,"div",21),t._UZ(1,"ngx-ui-loader",22),t.qZA()),2&e&&(t.xp6(1),t.Q6J("hasProgressBar",!1))}function V(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Name "),t.qZA())}function K(e,a){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.AsE(" ",i.user.firstName," ",i.user.lastName," ")}}function tt(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Email"),t.qZA())}function et(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",i.user.email," ")}}function it(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Date & Time "),t.qZA())}function at(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,i.createdAt,"MMMM dd, y , hh:mm:ss a")," ")}}function nt(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Status "),t.qZA())}function ot(e,a){1&e&&(t.TgZ(0,"span",27),t._uU(1,"PENDING"),t.qZA())}function st(e,a){if(1&e&&(t.TgZ(0,"td",25),t.YNc(1,ot,2,0,"span",26),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.Q6J("ngIf","PENDING"==i.access)}}function lt(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Action"),t.qZA())}const rt=function(){return{color:"green"}},ct=function(){return{color:"red"}};function mt(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"td",25)(1,"mat-icon",28),t.NdJ("click",function(){const l=t.CHM(i).$implicit,c=t.oxw();return t.KtG(c.strategyDetails(l))}),t._uU(2," info "),t.qZA(),t.TgZ(3,"mat-icon",29),t.NdJ("click",function(){const l=t.CHM(i).$implicit,c=t.oxw();return t.KtG(c.publish(l))}),t._uU(4," check_circle_outline "),t.qZA(),t.TgZ(5,"mat-icon",30),t._uU(6," cancel "),t.qZA()()}2&e&&(t.xp6(3),t.Q6J("ngStyle",t.DdM(2,rt)),t.xp6(2),t.Q6J("ngStyle",t.DdM(3,ct)))}function pt(e,a){1&e&&t._UZ(0,"tr",31)}function ut(e,a){1&e&&t._UZ(0,"tr",32)}function ht(e,a){1&e&&(t.TgZ(0,"tr",33)(1,"td",34),t._uU(2,"No data matching the filter "),t.qZA()())}const gt=function(){return[15,25,50,75,100]},dt=[{path:"",component:(()=>{class e{constructor(i,n,s){this.PublishService=i,this.ngxService=n,this.matDialog=s,this.displayedColumns=["name","email","time","status","action"],this.dataSource=[],this.showLoader=!1;let l=localStorage.getItem("userinfo");l&&(this.parseData=JSON.parse(l))}ngOnInit(){this.initializeFilter(),this.publishStrategyList()}initializeFilter(){this.filter={token:this.parseData.token,page:1,limit:15,access:"PENDING"}}publishStrategyList(){var i=this;return(0,T.Z)(function*(){i.showLoader=!0,i.ngxService.start();try{const n=yield i.PublishService.publish(i.filter).toPromise();console.log(n),i.totalLength=n.data.count,i.dataSource=n.data.results,i.showLoader=!1}catch{i.showLoader=!1}})()}pageChange(i){this.filter.page=i.pageIndex+1,this.filter.limit=i.pageSize,this.publishStrategyList()}publish(i){this.matDialog.open(x.w,{width:"300px",maxHeight:"400px"}).afterClosed().subscribe(n=>{1==n&&this._publish(i)})}_publish(i){this.showLoader=!0,this.ngxService.start(),this.PublishService.publishAccess({token:this.parseData.token,userId:i.id,access:"ACCEPTED"}).subscribe(s=>{s&&(this.initializeFilter(),this.publishStrategyList())},s=>{this.showLoader=!1})}showList(){this.matDialog.open(q)}strategyDetails(i){console.log(i),this.matDialog.open(W,{width:"700px",data:{buyThreshold:i.strategy.parameters.buyThreshold,initialInvestment:i.strategy.parameters.initialInvestment,lotMultiplier:i.strategy.parameters.lotMultiplier,maxPositions:i.strategy.parameters.maxPositions,profitThreshold:i.strategy.parameters.profitThreshold}})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(_),t.Y36(h.LA),t.Y36(y.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-publish-strategy"]],viewQuery:function(i,n){if(1&i&&t.Gf(u.NW,7),2&i){let s;t.iGM(s=t.CRH())&&(n.paginator=s.first)}},decls:31,vars:7,consts:[["class","ngxLoader",4,"ngIf"],[1,"main_container"],[1,"flex","pad-8","header"],[1,"heading"],[1,"spacer"],[1,"mt-30"],["mat-button","",1,"show_List",3,"click"],[2,"margin-top","10px"],["mat-table","",1,"dataTable",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","capital",4,"matCellDef"],["matColumnDef","email"],["mat-cell","",4,"matCellDef"],["matColumnDef","time"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","cursor-pointer",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["pageSize","15",1,"pagination",3,"length","pageSizeOptions","page"],[1,"ngxLoader"],[3,"hasProgressBar"],["mat-header-cell",""],["mat-cell","",1,"capital"],["mat-cell",""],["style","color: #f5bb8c;",4,"ngIf"],[2,"color","#f5bb8c"],["matTooltip","View Strategy Details","aria-label","View Strategy Details",1,"pointer","icon",3,"click"],["matTooltip","Give Access",1,"pointer","icon",3,"ngStyle","click"],["matTooltip","Cancel",1,"pointer","icon",3,"ngStyle"],["mat-header-row",""],["mat-row","",1,"cursor-pointer"],[1,"mat-row"],["colspan","5",1,"pad-16",2,"text-align","center"]],template:function(i,n){1&i&&(t.YNc(0,X,2,1,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"p",3),t._uU(4,"Strategy Requests For Publish "),t.qZA(),t._UZ(5,"div",4),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){return n.showList()}),t.TgZ(8,"span"),t._uU(9,"Published Strategy List"),t.qZA()()()(),t.TgZ(10,"div",7)(11,"table",8),t.ynx(12,9),t.YNc(13,V,2,0,"th",10),t.YNc(14,K,2,2,"td",11),t.BQk(),t.ynx(15,12),t.YNc(16,tt,2,0,"th",10),t.YNc(17,et,2,1,"td",13),t.BQk(),t.ynx(18,14),t.YNc(19,it,2,0,"th",10),t.YNc(20,at,3,4,"td",13),t.BQk(),t.ynx(21,15),t.YNc(22,nt,2,0,"th",10),t.YNc(23,st,2,1,"td",13),t.BQk(),t.ynx(24,16),t.YNc(25,lt,2,0,"th",10),t.YNc(26,mt,7,4,"td",13),t.BQk(),t.YNc(27,pt,1,0,"tr",17),t.YNc(28,ut,1,0,"tr",18),t.YNc(29,ht,3,0,"tr",19),t.qZA(),t.TgZ(30,"mat-paginator",20),t.NdJ("page",function(l){return n.pageChange(l)}),t.qZA()()()),2&i&&(t.Q6J("ngIf",n.showLoader),t.xp6(11),t.Q6J("dataSource",n.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(2),t.Q6J("length",n.totalLength)("pageSizeOptions",t.DdM(6,gt)))},dependencies:[m.O5,m.PC,o.BZ,o.fO,o.as,o.w1,o.Dz,o.nj,o.ge,o.ev,o.XQ,o.Gk,o.Ee,u.NW,C.Hw,h.Eo,S.gM,m.uU],styles:[".main_container[_ngcontent-%COMP%]{padding:0 10px}.btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;position:relative}.show_List[_ngcontent-%COMP%]{border:1px solid #CCCBCB;width:auto;border-radius:3px;background-color:#fff;color:#635d5d;font-weight:600;margin-left:0;height:36px;cursor:pointer;padding:10px}.show_List[_ngcontent-%COMP%]:hover{color:#1e88e5;border:1px solid #1e88e5}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.icon[_ngcontent-%COMP%]{margin-right:5px}"]}),e})()}];let ft=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(dt),g.Bz]}),e})();var _t=r(6205);let yt=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,ft,o.p0,u.TU,_t.X,C.Ps,h.Js,S.AV]}),e})()}}]);