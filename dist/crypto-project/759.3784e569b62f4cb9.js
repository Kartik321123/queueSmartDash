"use strict";(self.webpackChunkmaterial_pro_angular_lite=self.webpackChunkmaterial_pro_angular_lite||[]).push([[759],{8759:(j,x,i)=>{i.r(x),i.d(x,{SymbolLogoModule:()=>F});var f=i(4755),y=i(2480),r=i(9401),c=i(5580),o=i(2223),g=i(6081),b=i(3144),v=i(4004),L=i(2548);let T=(()=>{class n{constructor(t){this.http=t}upload(t,e){console.log(t);const a=`${L.ij.LIVE_URL}/algo-strategy/symbol-url`,s={symbol:t.symbol,url:t.image};return console.log(s),this.http.post(a,s).pipe((0,v.U)(p=>(console.log(p),p)))}getAllLogos(t){const e=`${L.ij.LIVE_URL}/algo-strategy/list-symbol-url`,a=new b.WM({Authorization:`Bearer ${t}`});return console.log(a),this.http.get(e,{headers:a}).pipe((0,v.U)(s=>s))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(b.eN))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var S=i(2342),C=i(1728),m=i(9114),Z=i(8097),d=i(6012),M=i(430),h=i(5815),O=i(3649),_=i(9383);function U(n,l){1&n&&(o.TgZ(0,"div",2),o._UZ(1,"ngx-ui-loader",3),o.qZA()),2&n&&(o.xp6(1),o.Q6J("hasProgressBar",!1))}function I(n,l){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Image file is required"),o.qZA())}function w(n,l){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"mat-toolbar",4)(2,"span"),o._uU(3,"Upload Logo"),o.qZA(),o.TgZ(4,"mat-icon",5),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.close())}),o._uU(5,"close"),o.qZA()(),o.TgZ(6,"div",6)(7,"mat-card",7)(8,"h1",8),o._uU(9,"Upload Image"),o.qZA(),o.TgZ(10,"form",9)(11,"div",10)(12,"input",11),o.NdJ("change",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s.onFileSelected(a))}),o.qZA(),o.YNc(13,I,2,0,"mat-error",1),o.qZA(),o.TgZ(14,"mat-form-field",12)(15,"mat-label"),o._uU(16,"Symbol"),o.qZA(),o._UZ(17,"input",13),o.qZA(),o.TgZ(18,"button",14),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.upload())}),o._uU(19,"Upload"),o.qZA()()()(),o.BQk()}if(2&n){const t=o.oxw();o.xp6(10),o.Q6J("formGroup",t.form),o.xp6(3),o.Q6J("ngIf",!t.file),o.xp6(5),o.Q6J("disabled",!t.form.valid||!t.file)}}function A(n,l){if(1&n&&(o.TgZ(0,"mat-grid-tile"),o._UZ(1,"div",23),o.TgZ(2,"mat-card",24)(3,"div"),o._UZ(4,"img",25),o.qZA(),o.TgZ(5,"mat-card-content")(6,"h5",26),o._uU(7),o.qZA()()()()),2&n){const t=l.$implicit;o.xp6(4),o.Q6J("src",t.url,o.LSH),o.xp6(3),o.hij("Symbol Name: ",t.symbol||"symbol","")}}function J(n,l){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",15)(2,"div",16)(3,"p",8),o._uU(4,"Symbol Logo "),o.qZA(),o._UZ(5,"div",17),o.TgZ(6,"div",18)(7,"button",19),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.openUpload())}),o.TgZ(8,"span"),o._uU(9,"Upload Logo"),o.qZA()()()(),o.TgZ(10,"div",20)(11,"mat-grid-list",21),o.YNc(12,A,8,2,"mat-grid-tile",22),o.qZA()()(),o.BQk()}if(2&n){const t=o.oxw();o.xp6(12),o.Q6J("ngForOf",t.logos)}}const D=[{path:"",component:(()=>{class n{constructor(t,e,a,s,p,u=null){this.ngxService=t,this.symbolLogoService=e,this.matDialog=a,this._snackBar=s,this.matDialogRef=p,this.matData=u,this.isDialog=!1,this.form=new r.cw({symbol:new r.NI("",r.kI.required)}),this.data=[],this.showLoader=!1,this.base64Image=null;const P=localStorage.getItem("userinfo");P&&(this.parseData=JSON.parse(P)),u&&u.isDialog&&(this.isDialog=u.isDialog)}ngOnInit(){this.getSymbolLogos(this.parseData.token)}onFileSelected(t){const e=t.target.files[0];if(e){this.file=e;const a=new FileReader;a.readAsDataURL(e),a.onload=()=>{this.base64Image=a.result},a.onerror=s=>{console.error("Error: ",s)}}}getSymbolLogos(t){this.showLoader=!0,this.ngxService.start(),this.symbolLogoService.getAllLogos(t).subscribe(e=>{this.logos=e.data.results,this.showLoader=!1,this.ngxService.stop()})}upload(){if(this.showLoader=!0,this.ngxService.start(),this.form.valid&&this.base64Image){const t={image:this.base64Image,symbol:this.form.get("symbol")?.value};this.symbolLogoService.upload(t,this.parseData.token).subscribe(e=>{e&&(this._snackBar.open(e.message,"Close",{duration:3e3,verticalPosition:"bottom",horizontalPosition:"center"}),this.matDialogRef.close()),this.form.reset(),this.file=null,this.base64Image=null,this.showLoader=!1,this.ngxService.stop()},e=>{console.error("Error uploading banner:",e)})}else console.error("Form is invalid or no file selected")}openUpload(){this.matDialog.open(n,{width:"500px",data:{isDialog:!0}}).afterClosed().subscribe(()=>{this.showLoader=!0,this.ngxService.start(),this.getSymbolLogos(this.parseData.token),this.ngxService.stop(),this.showLoader=!1})}close(){this.matDialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(g.LA),o.Y36(T),o.Y36(c.uw),o.Y36(S.ux),o.Y36(c.so),o.Y36(c.WI))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-symbol-logo"]],inputs:{isDialog:"isDialog"},decls:3,vars:3,consts:[["class","ngxLoader",4,"ngIf"],[4,"ngIf"],[1,"ngxLoader"],[3,"hasProgressBar"],[1,"mat-toolbar"],["matTooltip","close",1,"mat-icon",3,"click"],[1,"input-card"],["appearance","outlined",1,"mat-card"],[1,"heading"],[3,"formGroup"],[1,"file-input"],["type","file","id","fileUpload","required","",3,"change"],["appearance","outline",1,"input"],["matInput","","formControlName","symbol"],["mat-flat-button","",1,"uploadButton",3,"disabled","click"],[1,"main_container"],[1,"flex","pad-8","header"],[1,"spacer"],[1,"mt-30"],["mat-button","",1,"upload-button",3,"click"],[1,"container"],["cols","5","gutterSize","16px"],[4,"ngFor","ngForOf"],[1,"deleteButton"],[1,"mat-card"],["mat-card-image","","alt","...",1,"mat-card-image",3,"src"],[1,"symbol-name"]],template:function(t,e){1&t&&(o.YNc(0,U,2,1,"div",0),o.YNc(1,w,20,3,"ng-container",1),o.YNc(2,J,13,1,"ng-container",1)),2&t&&(o.Q6J("ngIf",e.showLoader),o.xp6(1),o.Q6J("ngIf",e.isDialog),o.xp6(1),o.Q6J("ngIf",!e.isDialog))},dependencies:[f.sg,f.O5,C.lW,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,m.KE,m.hX,m.TO,Z.Nt,d.a8,d.dn,d.G2,g.Eo,M.Hw,h.Il,h.DX,O.gM,_.Ye],styles:[".input-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:10px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.main_container[_ngcontent-%COMP%]{padding:0 10px}.file-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:16px;width:100%;max-width:400px;justify-content:center;align-items:center}.file-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:70px}.file-label[_ngcontent-%COMP%]{margin-bottom:8px;font-size:16px;font-weight:700}.input[_ngcontent-%COMP%]{width:100%}.upload-card[_ngcontent-%COMP%]{width:600px;display:flex;justify-content:center;align-items:center;height:221px}.upload-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.deleteButton[_ngcontent-%COMP%]{position:relative;z-index:100;cursor:pointer;bottom:170px;left:339px;background-color:red;color:#fff;height:22px}.mat-card[_ngcontent-%COMP%]{width:500px;height:380px;display:flex;flex-direction:column;align-items:center}.form[_ngcontent-%COMP%]{width:100%;max-width:400px}.uploadButton[_ngcontent-%COMP%]{background-color:#1e88e5!important;color:#fff!important;width:100%}.mat-card-image[_ngcontent-%COMP%]{width:100%;height:129px;object-fit:cover;margin-top:59px}.symbol-name[_ngcontent-%COMP%]{white-space:nowrap;margin-top:0}.mat-card[_ngcontent-%COMP%]{height:264px}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.upload-button[_ngcontent-%COMP%]{border:1px solid #CCCBCB;width:auto;border-radius:3px;background-color:#fff;color:#635d5d;font-weight:600;margin-left:0;height:36px;cursor:pointer;padding:10px}.mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#1e88e5;color:#fff}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),n})()}];let B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[y.Bz.forChild(D),y.Bz]}),n})();var N=i(5041);let F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[N.y]}),n.\u0275inj=o.cJS({providers:[{provide:c.so,useValue:{}},{provide:c.WI,useValue:{}}],imports:[f.ez,B,C.ot,r.UX,m.lN,Z.c,d.QW,g.Js,M.Ps,h.N6,g.Js,c.Is,O.AV,_.g0,S.ZX]}),n})()}}]);