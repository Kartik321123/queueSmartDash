"use strict";(self.webpackChunkmaterial_pro_angular_lite=self.webpackChunkmaterial_pro_angular_lite||[]).push([[221],{1221:(G,h,s)=>{s.r(h),s.d(h,{WithdrawalRequestModule:()=>E});var m=s(4755),g=s(9401),p=s(6081),u=s(5580),x=s(9114),C=s(430),T=s(8097),i=s(3627),d=s(3276),Z=s(9383),R=s(3649),_=s(2480),t=s(2223);let v=(()=>{class e{constructor(o,a){this.dialogRef=o,this.data=a}ngOnInit(){}cancel(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u.so),t.Y36(u.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-alert"]],decls:8,vars:0,consts:[[1,"alert-box"],[1,"flex-row-centered","pad-16","fs_20"],[1,"btn","flex","margin"],["mat-button","",1,"buttons",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"Are you sure ? "),t.qZA(),t.TgZ(3,"div",2)(4,"button",3),t.NdJ("click",function(){return a.cancel()}),t._uU(5,"Cancel"),t.qZA(),t.TgZ(6,"button",3),t.NdJ("click",function(){return a.confirm()}),t._uU(7,"Confirm"),t.qZA()()())},styles:[".fs_20[_ngcontent-%COMP%]{font-size:25px}.btn[_ngcontent-%COMP%]{justify-content:center;margin-bottom:15px}.buttons[_ngcontent-%COMP%]{border:1px solid #CCCBCB;width:auto;border-radius:3px;background-color:#fff;color:#635d5d;font-weight:600;margin-right:10px;height:36px;cursor:pointer}.buttons[_ngcontent-%COMP%]:hover{color:#1e88e5;border:1px solid #1e88e5}"]}),e})();var f=s(3144),w=s(4004);let A=(()=>{class e{constructor(o){this.http=o}getWithdrawalRequests(o){const r=new f.WM({Authorization:`Bearer ${o.token}`}),l=(new f.LE).set("page",o.page).set("limit",o.limit);return this.http.get("https://api.cryptozack.com/wallet/get-withdrawal-request",{headers:r,params:l}).pipe((0,w.U)(c=>c.data))}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(f.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var q=s(2018);function N(e,n){1&e&&(t.TgZ(0,"div",20),t._UZ(1,"ngx-ui-loader",21),t.qZA()),2&e&&(t.xp6(1),t.Q6J("hasProgressBar",!1))}function y(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Name "),t.qZA())}function U(e,n){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.AsE(" ",o.user.firstName||"--"," ",o.user.lastName," ")}}function D(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Email"),t.qZA())}function Y(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.user.email||"--"," ")}}function M(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Amount "),t.qZA())}function S(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.TgZ(2,"span",25),t._uU(3,"(USDT)"),t.qZA()()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.amount/1e6||"--"," ")}}function W(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Status "),t.qZA())}function B(e,n){1&e&&(t.TgZ(0,"span",27),t._uU(1,"PENDING"),t.qZA())}function Q(e,n){if(1&e&&(t.TgZ(0,"td",24),t.YNc(1,B,2,0,"span",26),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("ngIf","PENDING"==o.status)}}function b(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Date & Time "),t.qZA())}function z(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,o.createdAt,"MMMM dd, y , hh:mm:ss a")," ")}}function J(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Action "),t.qZA())}function I(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",24)(1,"mat-icon",28),t.NdJ("click",function(){const l=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.approveRequest(l.id))}),t._uU(2,"check_circle_outline "),t.qZA()()}}function O(e,n){1&e&&t._UZ(0,"tr",29)}function L(e,n){1&e&&t._UZ(0,"tr",30)}function P(e,n){1&e&&(t.TgZ(0,"tr",31)(1,"td",32),t._uU(2,"No data matching the filter "),t.qZA()())}const k=function(){return[5,10,25,50,75,100]},F=[{path:"",component:(()=>{class e{constructor(o,a,r,l){this.withdrawalService=o,this.ngxService=a,this.matDialog=r,this.toastr=l,this.displayedColumns=["name","email","amount","status","time","action"],this.dataSource=[],this.showLoader=!1;let c=localStorage.getItem("userinfo");c&&(this.parseData=JSON.parse(c))}ngOnInit(){this.initializeFilter(),this.getWithdrawalRequests()}initializeFilter(){this.filter={token:this.parseData.token,page:1,limit:5}}getWithdrawalRequests(){this.showLoader=!0,this.ngxService.start(),this.withdrawalService.getWithdrawalRequests(this.filter).subscribe(o=>{this.dataSource=o.results,this.paginator.length=o.count,this.showLoader=!1},o=>{this.showLoader=!1})}approveRequest(o){this.matDialog.open(v,{width:"300px"}).afterClosed().subscribe(a=>{1==a&&this._approveRequest(o)})}_approveRequest(o){this.toastr.success("Request approved for transaction"),console.log("coooooooo")}pageChange(o){this.filter.page=o.pageIndex+1,this.filter.limit=o.pageSize,this.getWithdrawalRequests()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(A),t.Y36(p.LA),t.Y36(u.uw),t.Y36(q._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-requests"]],viewQuery:function(o,a){if(1&o&&t.Gf(d.NW,7),2&o){let r;t.iGM(r=t.CRH())&&(a.paginator=r.first)}},decls:30,vars:6,consts:[["class","ngxLoader",4,"ngIf"],[1,"main_container"],[1,"flex","pad-8","header"],[1,"heading"],[1,"spacer"],[2,"margin-top","10px"],["mat-table","",1,"dataTable",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","capital",4,"matCellDef"],["matColumnDef","email"],["mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","status"],["matColumnDef","time"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","cursor-pointer",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["pageSize","5",1,"pagination",3,"pageSizeOptions","page"],[1,"ngxLoader"],[3,"hasProgressBar"],["mat-header-cell",""],["mat-cell","",1,"capital"],["mat-cell",""],[1,"usdt"],["style","color: #f5bb8c;",4,"ngIf"],[2,"color","#f5bb8c"],["matTooltip","Approve Request",1,"pointer","success",3,"click"],["mat-header-row",""],["mat-row","",1,"cursor-pointer"],[1,"mat-row"],["colspan","5",1,"pad-16",2,"text-align","center"]],template:function(o,a){1&o&&(t.YNc(0,N,2,1,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"p",3),t._uU(4,"Withdrawal Requests"),t.qZA(),t._UZ(5,"div",4),t.qZA(),t.TgZ(6,"div",5)(7,"table",6),t.ynx(8,7),t.YNc(9,y,2,0,"th",8),t.YNc(10,U,2,2,"td",9),t.BQk(),t.ynx(11,10),t.YNc(12,D,2,0,"th",8),t.YNc(13,Y,2,1,"td",11),t.BQk(),t.ynx(14,12),t.YNc(15,M,2,0,"th",8),t.YNc(16,S,4,1,"td",11),t.BQk(),t.ynx(17,13),t.YNc(18,W,2,0,"th",8),t.YNc(19,Q,2,1,"td",11),t.BQk(),t.ynx(20,14),t.YNc(21,b,2,0,"th",8),t.YNc(22,z,3,4,"td",11),t.BQk(),t.ynx(23,15),t.YNc(24,J,2,0,"th",8),t.YNc(25,I,3,0,"td",11),t.BQk(),t.YNc(26,O,1,0,"tr",16),t.YNc(27,L,1,0,"tr",17),t.YNc(28,P,3,0,"tr",18),t.qZA(),t.TgZ(29,"mat-paginator",19),t.NdJ("page",function(l){return a.pageChange(l)}),t.qZA()()()),2&o&&(t.Q6J("ngIf",a.showLoader),t.xp6(7),t.Q6J("dataSource",a.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(5,k)))},dependencies:[m.O5,p.Eo,C.Hw,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,i.Ee,d.NW,R.gM,m.uU],styles:[".main_container[_ngcontent-%COMP%]{padding:0 10px}.usdt[_ngcontent-%COMP%]{font-size:10px;font-weight:700}"]}),e})()}];let j=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[_.Bz.forChild(F),_.Bz]}),e})(),E=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,g.u5,g.UX,p.Js,u.Is,x.lN,C.Ps,T.c,i.p0,d.TU,Z.g0,R.AV,j,q.Rh.forRoot()]}),e})()}}]);