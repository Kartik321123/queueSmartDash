"use strict";(self.webpackChunkmaterial_pro_angular_lite=self.webpackChunkmaterial_pro_angular_lite||[]).push([[759],{8759:(P,u,i)=>{i.r(u),i.d(u,{SymbolLogoModule:()=>J});var d=i(4755),f=i(2480),a=i(9401),o=i(2223),g=i(6081),h=i(3144),y=i(4004),b=i(2548);let x=(()=>{class t{constructor(e){this.http=e}upload(e,n){console.log(e);const l=`${b.ij.LIVE_URL}/algo-strategy/symbol-url`,s={symbol:e.symbol,url:e.image};return console.log(s),this.http.post(l,s).pipe((0,y.U)(S=>(console.log(S),S)))}getAllLogos(e){const n=`${b.ij.LIVE_URL}/algo-strategy/list-symbol-url`,l=new h.WM({Authorization:`Bearer ${e}`});return console.log(l),this.http.get(n,{headers:l}).pipe((0,y.U)(s=>s))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(h.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=i(1728),m=i(9114),L=i(8097),c=i(6012),p=i(5815);function Z(t,r){1&t&&(o.TgZ(0,"div",17),o._UZ(1,"ngx-ui-loader",18),o.qZA()),2&t&&(o.xp6(1),o.Q6J("hasProgressBar",!1))}function C(t,r){1&t&&(o.TgZ(0,"mat-error"),o._uU(1,"Image file is required"),o.qZA())}function A(t,r){if(1&t&&(o.TgZ(0,"mat-grid-tile"),o._UZ(1,"div",19),o.TgZ(2,"mat-card",20)(3,"div"),o._UZ(4,"img",21),o.qZA(),o.TgZ(5,"mat-card-content")(6,"h5"),o._uU(7),o.qZA()()()()),2&t){const e=r.$implicit;o.xp6(4),o.Q6J("src",e.url,o.LSH),o.xp6(3),o.hij("Symbol Name: ",e.symbol||"symbol","")}}const I=[{path:"",component:(()=>{class t{constructor(e,n){this.ngxService=e,this.symbolLogoService=n,this.form=new a.cw({symbol:new a.NI("",a.kI.required)}),this.data=[],this.showLoader=!1,this.base64Image=null;const l=localStorage.getItem("userinfo");l&&(this.parseData=JSON.parse(l))}ngOnInit(){this.getSymbolLogos(this.parseData.token)}onFileSelected(e){const n=e.target.files[0];if(n){this.file=n;const l=new FileReader;l.readAsDataURL(n),l.onload=()=>{this.base64Image=l.result},l.onerror=s=>{console.error("Error: ",s)}}}getSymbolLogos(e){this.showLoader=!0,this.ngxService.start(),this.symbolLogoService.getAllLogos(e).subscribe(n=>{this.logos=n.data.results,this.showLoader=!1,this.ngxService.stop()})}upload(){if(this.showLoader=!0,this.ngxService.start(),this.form.valid&&this.base64Image){const e={image:this.base64Image,symbol:this.form.get("symbol")?.value};this.symbolLogoService.upload(e,this.parseData.token).subscribe(n=>{this.form.reset(),this.file=null,this.base64Image=null,this.getSymbolLogos(this.parseData.token),this.showLoader=!1,this.ngxService.stop()},n=>{console.error("Error uploading banner:",n)})}else console.error("Form is invalid or no file selected")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(g.LA),o.Y36(x))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-symbol-logo"]],decls:23,vars:5,consts:[["class","ngxLoader",4,"ngIf"],[1,"main_container"],[1,"flex","pad-8","header"],[1,"heading"],[1,"spacer"],[1,"input-card"],["appearance","outlined",2,"width","500px","height","380px","display","flex","flex-direction","column","align-items","center"],[2,"width","100%","max-width","400px",3,"formGroup"],[1,"file-input"],["type","file","id","fileUpload","required","",3,"change"],[4,"ngIf"],["appearance","outline",1,"input"],["matInput","","formControlName","symbol"],["mat-flat-button","",2,"background-color","#1e88e5","color","white","width","100%","max-width","400px","margin-top","20px",3,"disabled","click"],[1,"container"],["cols","4","gutterSize","16px"],[4,"ngFor","ngForOf"],[1,"ngxLoader"],[3,"hasProgressBar"],[1,"deleteButton"],[1,"upload-card",2,"height","252px"],["mat-card-image","","alt","...",2,"width","100%","height","129px","object-fit","cover","margin-top","59px",3,"src"]],template:function(e,n){1&e&&(o.YNc(0,Z,2,1,"div",0),o.TgZ(1,"div",1)(2,"div",2)(3,"p",3),o._uU(4,"Symbol Logo "),o.qZA(),o._UZ(5,"div",4),o.qZA(),o.TgZ(6,"div",5)(7,"mat-card",6)(8,"h1",3),o._uU(9,"Upload Image"),o.qZA(),o.TgZ(10,"form",7)(11,"div",8)(12,"input",9),o.NdJ("change",function(s){return n.onFileSelected(s)}),o.qZA(),o.YNc(13,C,2,0,"mat-error",10),o.qZA(),o.TgZ(14,"mat-form-field",11)(15,"mat-label"),o._uU(16,"Symbol"),o.qZA(),o._UZ(17,"input",12),o.qZA(),o.TgZ(18,"button",13),o.NdJ("click",function(){return n.upload()}),o._uU(19,"Upload"),o.qZA()()()(),o.TgZ(20,"div",14)(21,"mat-grid-list",15),o.YNc(22,A,8,2,"mat-grid-tile",16),o.qZA()()()),2&e&&(o.Q6J("ngIf",n.showLoader),o.xp6(10),o.Q6J("formGroup",n.form),o.xp6(3),o.Q6J("ngIf",!n.file),o.xp6(5),o.Q6J("disabled",!n.form.valid||!n.file),o.xp6(4),o.Q6J("ngForOf",n.logos))},dependencies:[d.sg,d.O5,v.lW,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,m.KE,m.hX,m.TO,L.Nt,c.a8,c.dn,c.G2,g.Eo,p.Il,p.DX],styles:[".input-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:10px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.main_container[_ngcontent-%COMP%]{padding:0 10px}.file-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:16px;width:100%;max-width:400px;justify-content:center;align-items:center}.file-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:70px}.file-label[_ngcontent-%COMP%]{margin-bottom:8px;font-size:16px;font-weight:700}.input[_ngcontent-%COMP%]{width:100%}.upload-card[_ngcontent-%COMP%]{width:600px;display:flex;justify-content:center;align-items:center;height:221px}.upload-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.deleteButton[_ngcontent-%COMP%]{position:relative;z-index:100;cursor:pointer;bottom:170px;left:339px;background-color:red;color:#fff;height:22px}"]}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[f.Bz.forChild(I),f.Bz]}),t})();var U=i(5580),O=i(430),T=i(3649);let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[d.ez,M,v.ot,a.UX,m.lN,L.c,c.QW,g.Js,O.Ps,p.N6,g.Js,U.Is,T.AV]}),t})()}}]);